import{j as e}from"./jsx-runtime-CDt2p4po.js";import{r as N}from"./index-GiUgBvb1.js";import{c as b,R as u,u as k,C as g,L as z}from"./LanguageContext-n6OuJeuk.js";import{S as M}from"./ServiceLogo-CpE1bRn6.js";import{m as c}from"./proxy-Cm3FBkwj.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=b("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=b("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=b("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),S=(r,s)=>{const n=s.getDate();let m=0,o=0,t=0,d=null,x=Number.MAX_SAFE_INTEGER;const l=new Date(s.getFullYear(),s.getMonth()+1,0).getDate();for(let a=1;a<=l;a++){const v=new Date(s.getFullYear(),s.getMonth(),a).getDay();r.forEach(i=>{if(!(i.recurrence===u.WEEKLY?i.day===v:i.day===a))return;if(m+=i.price,a<n){o+=i.price;return}t+=i.price;const p=a-n;p>=0&&p<x&&(x=p,d={sub:i,date:a})})}return{totalCost:m,paidThisMonth:o,remainingThisMonth:t,nextPayment:d}},w=({subscriptions:r,currentDate:s})=>{const{t:n,config:m,dateLocale:o}=k(),t=N.useMemo(()=>S(r,s),[r,s]),d=a=>new Intl.NumberFormat(o,{style:"currency",currency:m.currencyCode}).format(a),x={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},l={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return e.jsxs(c.div,{variants:x,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(c.div,{variants:l,className:"group relative overflow-hidden bg-zinc-900 dark:bg-zinc-900 rounded-[32px] p-8 shadow-2xl shadow-zinc-900/20 dark:shadow-black/50 text-white flex flex-col justify-between h-48 sm:h-auto",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full blur-3xl -mr-32 -mt-32 pointer-events-none"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-indigo-500/10 rounded-full blur-3xl -ml-24 -mb-24 pointer-events-none"}),e.jsxs("div",{className:"relative z-10 flex justify-between items-start",children:[e.jsx("div",{className:"p-3 bg-white/10 rounded-2xl backdrop-blur-md border border-white/5",children:e.jsx(C,{size:24,className:"text-white"})}),e.jsx("span",{className:"px-3 py-1 rounded-full bg-white/10 border border-white/5 text-[11px] font-bold uppercase tracking-widest backdrop-blur-md",children:s.toLocaleDateString(o,{month:"short"})})]}),e.jsxs("div",{className:"relative z-10 mt-6",children:[e.jsx("p",{className:"text-zinc-400 font-medium text-sm mb-1",children:n("stats.total")}),e.jsx("span",{className:"text-4xl sm:text-5xl font-extrabold tracking-tighter text-white",children:d(t.totalCost)})]})]}),e.jsxs(c.div,{variants:l,className:"bg-white dark:bg-zinc-900 rounded-[32px] p-8 shadow-soft dark:shadow-none border border-zinc-100 dark:border-zinc-800 flex flex-col justify-between",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 rounded-2xl text-orange-600 dark:text-orange-400",children:e.jsx(T,{size:24})}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest",children:n("stats.remaining")}),e.jsx("p",{className:"text-2xl font-bold text-zinc-900 dark:text-white tracking-tight",children:d(t.remainingThisMonth)})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs font-medium text-zinc-400 mb-2",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[Math.round(t.totalCost>0?t.paidThisMonth/t.totalCost*100:0),"%"]})]}),e.jsx("div",{className:"w-full bg-zinc-100 dark:bg-zinc-800 h-4 rounded-full overflow-hidden",children:e.jsx(c.div,{className:"bg-zinc-900 dark:bg-white h-full rounded-full",initial:{width:0},animate:{width:`${t.totalCost>0?t.paidThisMonth/t.totalCost*100:0}%`},transition:{duration:1,ease:"easeOut"}})})]})]}),e.jsxs(c.div,{variants:l,className:"bg-white dark:bg-zinc-900 rounded-[32px] p-8 shadow-soft dark:shadow-none border border-zinc-100 dark:border-zinc-800 flex flex-col justify-between",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-2xl text-indigo-600 dark:text-indigo-400",children:e.jsx(E,{size:24})}),e.jsx("p",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest",children:n("stats.next_payment")})]}),e.jsx("div",{className:"mt-auto",children:t.nextPayment?e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-zinc-50 dark:bg-zinc-800/50 rounded-2xl border border-zinc-100 dark:border-zinc-800/50",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl overflow-hidden bg-white shadow-sm border border-zinc-100 dark:border-zinc-800 p-1 flex-shrink-0",children:e.jsx(M,{name:t.nextPayment.sub.name,logo:t.nextPayment.sub.logo,domain:t.nextPayment.sub.domain,color:t.nextPayment.sub.color,className:"w-full h-full object-contain"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-baseline",children:[e.jsx("h4",{className:"font-bold text-zinc-900 dark:text-white truncate pr-2",children:t.nextPayment.sub.name}),e.jsx("span",{className:"text-sm font-bold text-zinc-900 dark:text-white",children:d(t.nextPayment.sub.price)})]}),e.jsxs("p",{className:"text-xs text-zinc-500 font-medium",children:[n("stats.on")," ",t.nextPayment.date," ",s.toLocaleDateString(o,{month:"long"})]})]})]}):e.jsx("div",{className:"h-full flex items-center justify-center text-zinc-400 text-sm font-medium italic",children:n("stats.no_payment")})})]})]})};w.__docgenInfo={description:"",methods:[],displayName:"Stats",props:{subscriptions:{required:!0,tsType:{name:"Array",elements:[{name:"Subscription"}],raw:"Subscription[]"},description:""},currentDate:{required:!0,tsType:{name:"Date"},description:""}}};const L=[{id:"1",name:"Netflix",price:15,day:10,recurrence:u.MONTHLY,category:g.ENTERTAINMENT,color:"#E50914"},{id:"2",name:"Gym",price:30,day:2,recurrence:u.WEEKLY,category:g.HEALTH,color:"#10B981"}],W={title:"MÃ©tiers/Stats",component:w,decorators:[r=>e.jsx(z,{children:e.jsx("div",{className:"p-6 bg-zinc-50 dark:bg-zinc-950 min-h-screen",children:e.jsx(r,{})})})],args:{subscriptions:L,currentDate:new Date("2025-01-15")}},h={};var f,y,j;h.parameters={...h.parameters,docs:{...(f=h.parameters)==null?void 0:f.docs,source:{originalSource:"{}",...(j=(y=h.parameters)==null?void 0:y.docs)==null?void 0:j.source}}};const Y=["Default"];export{h as Default,Y as __namedExportsOrder,W as default};
